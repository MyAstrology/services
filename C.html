<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>рж╕ржарж┐ржХ ржЬржирзНржоржХрзБржгрзНржбрж▓рзА ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fff8f0; margin: 20px; }
    label { display: block; margin-top: 10px; }
    input, button { margin-top: 5px; padding: 8px; width: 220px; }
    #result { margin-top: 20px; padding: 15px; background: #fff3e0; border-radius: 5px; }
  </style>
</head>
<body>
  <h2>рж╕ржарж┐ржХ ржЬржирзНржоржХрзБржгрзНржбрж▓рзА ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</h2>

  <form id="astroForm">
    <label>ржЬржирзНржо рждрж╛рж░рж┐ржЦ:
      <input type="date" id="dob" required>
    </label>
    <label>ржЬржирзНржо рж╕ржоржпрж╝:
      <input type="time" id="tob" required>
    </label>
    <label>ржЬржирзНржо рж╕рзНржерж╛ржи (ржЙржжрж╛рж╣рж░ржг: Kolkata, India):
      <input type="text" id="pob" required>
    </label>
    <button type="submit">ржЬржирзНржоржХрзБржгрзНржбрж▓рзА ржжрзЗржЦрзБржи</button>
  </form>

  <div id="result"></div>

  <script src="https://cdn.jsdelivr.net/npm/astronomia@1.12.0/astronomia.min.js"></script>
  <script>
    const form = document.getElementById('astroForm');
    const resultDiv = document.getElementById('result');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      resultDiv.innerHTML = "рж▓рзЛржб рж╣ржЪрзНржЫрзЗтАж";

      const dob = document.getElementById('dob').value;
      const tob = document.getElementById('tob').value;
      const pob = document.getElementById('pob').value;

      if (!dob || !tob || !pob) return;

      // рждрж╛рж░рж┐ржЦ ржУ рж╕ржорзЯ ржПржХрждрзНрж░рж┐ржд
      const dateTime = new Date(`${dob}T${tob}`);

      // ЁЯФ╣ ржЬрзНржпрзЛрждрж┐рж╖ ржЧржгржирж╛
      const Sun = astronomia.sun;
      const Moon = astronomia.moonphase;
      const julianDay = astronomia.julian.CalendarGregorianToJD(dateTime.getFullYear(), dateTime.getMonth()+1, dateTime.getDate()) + 
                        dateTime.getHours()/24 + dateTime.getMinutes()/1440;

      // рж╕рзВрж░рзНржп ржПржмржВ ржЪржирзНржжрзНрж░ ржЕржмрж╕рзНржерж╛ржи
      const sunLon = Sun.apparentLongitude(julianDay);
      const moonLon = astronomia.moonposition.position(julianDay).lon;

      // рж░рж╛рж╢рж┐ржлрж▓ ржирж┐рж░рзНржзрж╛рж░ржг
      const signs = ['ржорзЗрж╖','ржмрзГрж╖','ржорж┐ржерзБржи','ржХрж░рзНржХржЯ','рж╕рж┐ржВрж╣','ржХржирзНржпрж╛','рждрзБрж▓рж╛','ржмрзГрж╢рзНржЪрж┐ржХ','ржзржирзБ','ржоржХрж░','ржХрзБржорзНржн','ржорзАржи'];
      const sunSign = signs[Math.floor(sunLon / 30) % 12];
      const moonSign = signs[Math.floor(moonLon / 30) % 12];

      resultDiv.innerHTML = `
        <h3>ржЖржкржирж╛рж░ ржЬржирзНржоржХрзБржгрзНржбрж▓рзА ржлрж▓рж╛ржлрж▓</h3>
        <p>рж╕рзВрж░рзНржп рж░рж╛рж╢рж┐: <strong>${sunSign}</strong></p>
        <p>ржЪржирзНржжрзНрж░ рж░рж╛рж╢рж┐: <strong>${moonSign}</strong></p>
        <p>ржЬржирзНржо рж╕рзНржерж╛ржи: ${pob}</p>
        <p>рж░рж╛рж╢рж┐ржлрж▓ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг (рж╕рж╛ржзрж╛рж░ржг): рж╕рзВрж░рзНржп рж░рж╛рж╢рж┐ ржЕржирзБржпрж╛ржпрж╝рзА ржЖржкржирж╛рж░ ржмрзНржпржХрзНрждрж┐рждрзНржмрзЗрж░ ржорзВрж▓ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп ржУ ржЪржирзНржжрзНрж░ рж░рж╛рж╢рж┐ ржЕржирзБржпрж╛ржпрж╝рзА ржорж╛ржирж╕рж┐ржХ ржкрзНрж░ржнрж╛ржмред</p>
      `;
    });
  </script>
</body>
</html>
