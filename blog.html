<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MyAstrology ‚Äì ‡¶°. ‡¶™‡ßç‡¶∞‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé ‡¶Ü‡¶ö‡¶æ‡¶∞‡ßç‡¶Ø</title>
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Pacifico&display=swap" rel="stylesheet">

<style>
* {margin:0; padding:0; box-sizing:border-box;}
body {font-family:'Montserrat', sans-serif; background:#fdf6f0; color:#222; max-width:800px; margin:auto; padding:0 15px; line-height:1.6;}

header {
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 20px; background:#fff; box-shadow:0 2px 10px rgba(0,0,0,0.08);
  position:fixed; width:100%; top:0; left:0; z-index:1000;
}

.header-left {display:flex; align-items:center; gap:10px;}
.header-left img {height:50px; width:auto; cursor:pointer;}

/* Search */
.search-container {position:relative;}
#search-bar {
  padding:5px 10px; font-size:14px; border-radius:20px; border:1px solid #ccc;
  width:120px; transition:0.3s;
}
#search-btn {
  background:#b33; color:#fff; border:none; padding:5px 8px; border-radius:4px; cursor:pointer;
  margin-left:5px;
}

/* Center Title */
.header-center a {
  font-family:'Montserrat', sans-serif; font-size:24px; color:#b33;
  text-decoration:none; text-shadow:1px 1px 2px rgba(0,0,0,0.2);
  font-weight:600;
}
.header-center {flex:1; text-align:center;}

/* Hamburger */
.hamburger {display:flex; flex-direction:column; gap:4px; cursor:pointer;}
.hamburger span {width:25px; height:3px; background:#333; border-radius:3px;}

/* Menu */
#nav-menu {
  display:none; flex-direction:column; gap:10px; background:#fff8f2;
  position:absolute; top:60px; right:20px; width:200px; padding:10px 0; box-shadow:0 2px 8px rgba(0,0,0,0.1);
  border-radius:8px; z-index:999;
}
#nav-menu a {padding:6px 12px; text-decoration:none; color:#444; border-radius:5px;}
#nav-menu a:hover {background:#f3e7da; color:#d94b39;}

/* Blog content */
#post-title {font-size:28px; margin-top:90px; text-align:center;}
#post-image {max-width:100%; border-radius:12px; margin:20px 0; display:none;}
#blog-content {margin-top:20px;}
#blog-content h2 {margin-top:25px; font-size:22px; color:#333;}
#blog-content p, #blog-content li, #blog-content blockquote {margin:12px 0; font-size:16px;}
blockquote {border-left:4px solid #3478f6; padding-left:12px; color:#555; font-style:italic;}

@media(max-width:768px){
  .header-center a {font-size:20px;}
  #search-bar {width:90px;}
}
</style>
</head>

<body>

<header>
  <div class="header-left">
    <a href="https://astro.myastrology.in">
      <img src="/images/MyAstrology-Ranghat-logo.png" alt="MyAstrology Logo">
    </a>
    <div class="search-container">
      <input type="text" id="search-bar" placeholder="Search blogs...">
      <button id="search-btn">üîç</button>
    </div>
  </div>

  <div class="header-center">
    <a href="https://astro.myastrology.in">MyAstrology</a>
  </div>

  <div class="header-right">
    <div id="hamburger" class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <nav id="nav-menu">
    <a href="index.html">üè† ‡¶π‡ßã‡¶Æ</a>
    <a href="astrology.html">‡¶ú‡ßç‡¶Ø‡ßã‡¶§‡¶ø‡¶∑ ‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞</a>
    <a href="vedic-astronomy.html">‡¶ú‡ßç‡¶Ø‡ßã‡¶§‡¶ø‡¶∞‡ßç‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®</a>
    <a href="palmistry.html">‡¶π‡¶∏‡ßç‡¶§‡¶∞‡ßá‡¶ñ‡¶æ</a>
    <a href="rashifal.html">‡¶∞‡¶æ‡¶∂‡¶ø‡¶´‡¶≤</a>
    <a href="video.html">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì</a>
    <a href="vastu-science.html">‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡ßÅ ‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞</a>
    <a href="gallery.html">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</a>
    <a href="about.html">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá</a>
  </nav>
</header>

<h1 id="post-title">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h1>
<img id="post-image" alt="MyAstrology ‚Äì Indian Astrology & Palmistry">
<div id="blog-content">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>

<script>
const hamburger = document.getElementById('hamburger');
const navMenu = document.getElementById('nav-menu');
const searchBtn = document.getElementById('search-btn');
const searchBar = document.getElementById('search-bar');
const postTitle = document.getElementById('post-title');
const postImage = document.getElementById('post-image');
const blogContent = document.getElementById('blog-content');

// Hamburger toggle
hamburger.addEventListener('click',()=>{navMenu.style.display=navMenu.style.display==='flex'?'none':'flex';});

// Load post function
function loadPost(slug){
  fetch(`/src/content/blog/${slug}.md`)
  .then(res=>{if(!res.ok) throw new Error("‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø!"); return res.text();})
  .then(text=>{
    const match=/^---([\s\S]*?)---/.exec(text);
    let frontMatter={};
    if(match){
      match[1].trim().split('\n').forEach(line=>{
        const sepIndex=line.indexOf(':');
        if(sepIndex>0){ const key=line.slice(0,sepIndex).trim(); let value=line.slice(sepIndex+1).trim().replace(/^"|"$/g,''); frontMatter[key]=value; }
      });
      text=text.replace(match[0],'');
    }
    if(frontMatter.title){document.title=`${frontMatter.title} | MyAstrology`; postTitle.innerText=frontMatter.title;}
    if(frontMatter.image){postImage.src=frontMatter.image; postImage.style.display='block'; postImage.alt=frontMatter.title;}
    blogContent.innerHTML=marked.parse(text);
  }).catch(err=>{blogContent.innerHTML="‚ùå ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§"; console.error(err);});
}

// Load first post or by URL
let params=new URLSearchParams(window.location.search);
let postSlug=params.get('post');
if(!postSlug){
  fetch('/src/content/blog/list.json')
  .then(res=>res.json())
  .then(list=>{if(list.length>0){postSlug=list[0].slug; loadPost(postSlug);}else{blogContent.innerHTML="‚ùå ‡¶ï‡ßã‡¶® ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶®‡ßá‡¶á!";}})
  .catch(err=>{blogContent.innerHTML="‚ùå ‡¶¨‡ßç‡¶≤‡¶ó ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ!"; console.error(err);});
}else{loadPost(postSlug);}

// Search functionality
searchBtn.addEventListener('click',()=>{doSearch();});
searchBar.addEventListener('keypress',function(e){if(e.key==='Enter'){doSearch();}});
function doSearch(){
  const query=searchBar.value.trim().toLowerCase();
  if(!query) return;
  fetch('/src/content/blog/list.json')
  .then(res=>res.json())
  .then(list=>{
    const results=list.filter(post=>post.title.toLowerCase().includes(query) || (post.description && post.description.toLowerCase().includes(query)));
    if(results.length>0){loadPost(results[0].slug);}
    else{blogContent.innerHTML="‚ùå ‡¶ï‡ßã‡¶® ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§"; postTitle.innerText="‡¶ï‡ßã‡¶® ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶®‡ßá‡¶á"; postImage.style.display='none';}
  }).catch(err=>{console.error(err); blogContent.innerHTML="‚ùå ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ!";});
}
</script>

</body>
</html>
