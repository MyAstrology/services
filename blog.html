<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MyAstrology ‚Äì ‡¶°. ‡¶™‡ßç‡¶∞‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé ‡¶Ü‡¶ö‡¶æ‡¶∞‡ßç‡¶Ø</title>
<meta name="description" content="MyAstrology Ranaghat: Expert Indian Astrology & Palmistry consultation by Dr. Prodyut Acharya">

<!-- Favicon -->
<link rel="icon" href="images/favicon.ico" type="image/x-icon">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Pacifico&display=swap" rel="stylesheet">

<!-- Marked JS for markdown -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
/* Reset */
* { margin:0; padding:0; box-sizing:border-box; }

/* Body */
body {
  font-family: 'Montserrat', sans-serif;
  background: #fdf6f0;
  color: #222;
  max-width: 900px;
  margin: auto;
  line-height: 1.6;
  padding: 0 15px;
}

/* Header */
header {
  position: fixed;
  top:0;
  left:0;
  width:100%;
  background:#fff8f2;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 20px;
  box-shadow:0 3px 8px rgba(0,0,0,0.1);
  z-index:1000;
  flex-wrap:wrap;
}

/* Left: Logo + Search */
.header-left {
  display:flex;
  align-items:center;
  gap:10px;
}
.header-left img {
  height:50px;
  cursor:pointer;
}
.search-container {
  position:relative;
}
.search-container input {
  padding:5px 8px;
  font-size:14px;
  border-radius:20px;
  border:1px solid #ccc;
  outline:none;
  width:0;
  opacity:0;
  transition:0.3s;
}
.search-container input.show {
  width:120px;
  opacity:1;
}
.search-container button {
  background:#b33;
  color:#fff;
  border:none;
  border-radius:5px;
  padding:5px 8px;
  cursor:pointer;
}

/* Center: Title */
.header-center a {
  font-family:'Montserrat', sans-serif;
  font-weight:700;
  font-size:22px;
  color:#b33;
  text-decoration:none;
  text-shadow:1px 1px 2px rgba(0,0,0,0.2);
  padding:2px 6px;
  border-radius:4px;
  background:#fff8f2;
}

/* Right: Hamburger */
.header-right {
  display:flex;
  align-items:center;
}
.hamburger {
  display:flex;
  flex-direction:column;
  gap:4px;
  cursor:pointer;
}
.hamburger span {
  width:25px;
  height:3px;
  background:#333;
  border-radius:3px;
  transition:0.3s;
}

/* Hamburger Menu */
#nav-menu {
  display:none;
  flex-direction:column;
  gap:10px;
  background:#fff8f2;
  position:absolute;
  top:60px;
  right:20px;
  width:200px;
  padding:10px 0;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
  border-radius:8px;
  z-index:999;
}
#nav-menu a {
  padding:6px 12px;
  text-decoration:none;
  color:#444;
  font-size:14px;
  transition:0.3s;
}
#nav-menu a:hover {
  background:#f3e7da;
  color:#d94b39;
  border-radius:5px;
}

/* Blog Post */
#post-title {
  font-size:28px;
  margin:100px 0 20px;
  text-align:center;
}
#post-image {
  max-width:100%;
  border-radius:12px;
  margin:20px 0;
  display:none;
}
#blog-content h2 { margin-top:25px; font-size:22px; color:#333; }
#blog-content p, #blog-content li, #blog-content blockquote { margin:12px 0; font-size:16px; }
blockquote { border-left:4px solid #3478f6; padding-left:12px; color:#555; font-style:italic; }

/* Responsive */
@media(max-width:600px){
  header { padding:8px 10px; }
  .header-left img { height:40px; }
  .search-container input.show { width:90px; font-size:12px; }
  .header-center a { font-size:18px; }
  #nav-menu { width:160px; right:10px; top:60px; }
}
</style>
</head>

<body>
<header>
  <!-- Left -->
  <div class="header-left">
    <a href="https://astro.myastrology.in"><img src="/images/MyAstrology-Ranghat-logo.png" alt="Logo"></a>
    <div class="search-container">
      <input type="text" id="search-bar" placeholder="Search blogs...">
      <button type="button" id="search-btn">üîç</button>
    </div>
  </div>

  <!-- Center -->
  <div class="header-center">
    <a href="https://astro.myastrology.in">MyAstrology</a>
  </div>

  <!-- Right -->
  <div class="header-right">
    <div id="hamburger" class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <!-- Menu -->
  <nav id="nav-menu">
    <a href="index.html">üè† ‡¶π‡ßã‡¶Æ</a>
    <a href="astrology.html">‡¶ú‡ßç‡¶Ø‡ßã‡¶§‡¶ø‡¶∑ ‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞</a>
    <a href="vedic-astronomy.html">‡¶ú‡ßç‡¶Ø‡ßã‡¶§‡¶ø‡¶∞‡ßç‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®</a>
    <a href="palmistry.html">‡¶π‡¶∏‡ßç‡¶§‡¶∞‡ßá‡¶ñ‡¶æ</a>
    <a href="rashifal.html">‡¶∞‡¶æ‡¶∂‡¶ø‡¶´‡¶≤</a>
    <a href="video.html">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì</a>
    <a href="vastu-science.html">‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡ßÅ ‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞</a>
    <a href="gallery.html">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</a>
    <a href="about.html">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá</a>
  </nav>
</header>

<h1 id="post-title">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h1>
<img id="post-image" alt="MyAstrology ‚Äì Indian Best Astrology & Palmistry">
<div id="blog-content">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>

<script>
const hamburger = document.getElementById('hamburger');
const navMenu = document.getElementById('nav-menu');
const searchBtn = document.getElementById('search-btn');
const searchBar = document.getElementById('search-bar');

// Hamburger toggle
hamburger.addEventListener('click', ()=>{ navMenu.style.display = navMenu.style.display==='flex'?'none':'flex'; });

// Search toggle
let searchVisible = false;
searchBtn.addEventListener('click', ()=>{
  searchVisible = !searchVisible;
  if(searchVisible){
    searchBar.classList.add('show');
    searchBar.focus();
  } else {
    searchBar.classList.remove('show');
  }
});

// Enter key search
searchBar.addEventListener('keypress', function(e){
  if(e.key==='Enter'){
    const query = searchBar.value.trim();
    if(query){
      window.location.href = `blog-list.html?search=${encodeURIComponent(query)}`;
    }
  }
});

// Blog post loader
const blogContent = document.getElementById('blog-content');
blogContent.innerHTML = "‚è≥ ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
const params = new URLSearchParams(window.location.search);
let postSlug = params.get('post');

function loadPost(slug){
  fetch(`/src/content/blog/${slug}.md`)
  .then(res=>{
    if(!res.ok) throw new Error("‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø!");
    return res.text();
  })
  .then(text=>{
    const match = /^---([\s\S]*?)---/.exec(text);
    let frontMatter = {};
    if(match){
      const lines = match[1].trim().split('\n');
      lines.forEach(line=>{
        const idx = line.indexOf(':');
        if(idx>0){
          const key = line.slice(0,idx).trim();
          let value = line.slice(idx+1).trim().replace(/^"|"$/g,'');
          frontMatter[key] = value;
        }
      });
      text = text.replace(match[0],'');
    }

    if(frontMatter.title){
      document.title = `${frontMatter.title} | MyAstrology ‚Äì Indian Astrology & Palmistry`;
      document.getElementById('post-title').innerText = frontMatter.title;
    }
    if(frontMatter.description){
      document.querySelector('meta[name="description"]').setAttribute('content', `${frontMatter.description} ‚Äì MyAstrology, Ranaghat, Expert Astrologer & Palmist Dr. Prodyut Acharya`);
    }
    if(frontMatter.image){
      const img = document.getElementById('post-image');
      img.src = frontMatter.image.trim();
      img.alt = `${frontMatter.title} ‚Äì MyAstrology, Indian Astrology & Palmistry`;
      img.style.display='block';
    }
    blogContent.innerHTML = marked.parse(text);
  })
  .catch(err=>{
    blogContent.innerHTML="‚ùå ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§";
    console.error(err);
  });
}

if(!postSlug){
  fetch('/src/content/blog/list.json')
  .then(res=>res.json())
  .then(list=>{
    if(list.length>0){
      postSlug=list[0].slug;
      loadPost(postSlug);
    } else {
      blogContent.innerHTML="‚ùå ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø!";
    }
  })
  .catch(err=>{
    blogContent.innerHTML="‚ùå ‡¶¨‡ßç‡¶≤‡¶ó ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá!";
    console.error(err);
  });
} else {
  loadPost(postSlug);
}
</script>
</body>
</html>
